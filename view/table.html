<!-- Panel Izquierdo - Tabla -->
<div class="container col-md-7 mt-2">
  <div class="header-section d-flex justify-content-between align-items-center">
    <h4><i class="fas fa-envelope"></i> ENVIADOR DE BOLETINES</h4>
  </div>

  <div class="header-section" style="margin-top: -20px;">
    <div class="stats-row mt">
      <div class="stat-card">
        <div class="stat-label">Alumnos</div>
        <div class="stat-number" id="totalAlumnos">0</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Enviados</div>
        <div class="stat-number" id="totalEnviados">0</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Sin enviar</div>
        <div class="stat-number" id="sinEnviar">0</div>
      </div>
    </div>

  </div>

  <div class=" mt-3 align-items-center d-flex">
    <button type="button" class="btn btnBlue1 me-2" data-bs-toggle="modal" data-bs-target="#uploadData">
      <i class="fa-solid fa-file-import"></i> Cargar datos
    </button>
    <button type="button" class="btn btnPurple1 me-2" onclick="showHistory()">
  <i class="fa-solid fa-clock-rotate-left"></i> Ver Historial
</button>
    <button type="button" class="btn btnRed1" onclick="limpiarEnviados()">
      <i class="fa-solid fa-broom"></i> Limpiar enviados
    </button>
  </div>

  <div class="filter-section">
    <div class="row g-2">
      <div class="col-md-4">
        <select class="form-select form-select-sm" id="filtroCurso">
          <option value="">Seleccionar curso</option>
        </select>
      </div>
      <div class="col-md-4">
        <input type="text" class="form-control form-control-sm" id="buscarNombre" placeholder="Buscar por nombre...">
      </div>
      <div class="col-md-2">
        <button class="btn btn-primary btn-sm w-100" onclick="aplicarFiltros()">
          <i class="fas fa-filter"></i> Filtrar
        </button>
      </div>
      <div class="col-md-2">
        <button class="btn btn-secondary btn-sm w-100" onclick="limpiarFiltros()">
          <i class="fas fa-times"></i> Limpiar
        </button>
      </div>
    </div>
  </div>

  <!-- TABLA DATA (visible por defecto) -->
  <div id="contenedorData" class="table-container">
    <div class="justify-content-center align-items-center d-flex">
      <h3 class="display-4">Datos</h3>
    </div>
    <div class="table-responsive">
      <table class="table table-hover">
        <thead>
          <tr>
            <th class="checkbox-cell">
              <input type="checkbox" id="selectAll" onclick="toggleSelectAll()">
            </th>
            <th>Curso</th>
            <th>Nombre y apellido</th>
            <th>PDF</th>
            <th>Envío</th>
            <th>Fecha</th>
          </tr>
        </thead>
        <tbody id="tablaBody"></tbody>
      </table>
    </div>
    <div id="noResults" class="no-results" style="display: none;">
      <i class="fas fa-inbox fa-3x mb-3" style="color: #ccc;"></i>
      <p>No se encontraron registros con los filtros aplicados.</p>
    </div>
  </div>

  <!-- TABLA HISTORIAL (oculta por defecto) -->
  <div id="contenedorHistorial" class="table-container" style="display: none;">
        <div class="justify-content-center align-items-center d-flex">
      <h3 class="display-4">Historial</h3>
    </div>
    <div class="table-responsive">
      <table class="table table-hover">
        <thead>
          <tr>
            <th class="checkbox-cell"><i class="fas fa-history"></i></th>
            <th>Curso</th>
            <th>Nombre y apellido</th>
            <th>PDF</th>
            <th>Post ID</th>
            <th>Fecha de Envío</th>
          </tr>
        </thead>
        <tbody id="tablaHistorialBody"></tbody>
      </table>
    </div>
    <div id="noResultsHistorial" class="no-results" style="display: none;">
      <i class="fas fa-history fa-3x mb-3" style="color: #ccc;"></i>
      <p>No hay registros en el historial.</p>
    </div>
  </div>
</div>